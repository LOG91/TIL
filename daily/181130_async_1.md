# 181130 TIL (Asynchronous 1탄)

자바스크립트는 싱글스레드 언어다 그래서 동시에 같은 일을 처리할 수 없다

setTimeout과 같은 함수를 기다린다면 다른 함수가 그동안 실행되지 못할 것이다

그래서 비동기함수들이 있다 setTimeout도 그중 하나고 addEventListener도

비동기함수다

[Youtube JSConf Async](https://www.youtube.com/watch?v=8aGhZQkoFbQ&t=1181s) < JSConf 비동기 발표 자료인데 너무 탁월하다

### 비동기 함수 처리과정

간단하게 비동기에 대하여 이야기하자면

stack에 함수들이 차오를 것이다 그리고 함수가 다 실행되면 먼저 진입한 함수부터

스택에서 비워지는 LIFO자료구조를 가지고 있다

동기적으로 실행을 하다가  비동기 함수가 선언되면 WebApi라는 곳으로 보내지고

그곳에서 timer가 있는 함수라면 그 만큼 기다리다가 콜백큐로 이동한다

그리고 스택이 완전히 비워진다면 콜백큐에 있는 함수들이 스택으로 올라가 실행된다

개인적으로 여기서 setTimeout의 시간을 0으로 하고 뒤에 처리되는 함수가 많다면

동기적 함수 중간에 setTimeout이 불리지 않을까? 생각을 했었지만

그 문제가 완전히 해결되었다 ^^

### 비동기 문제의 해결

해결하는 방법에는 setTimeout, callback, promise를 이용한 방법이 있을 것이다

(공부하기 전에는 이 세가지가 어떻게? 라는 생각이 있었다)

```js
console.log('Hello');
setTimeout(()=>console.log('I am'),0);
console.log('Whale');

// Hello
// Whale
// I am
```

중간에 비동기가 있어서 위와 같이 출력이 된다

하지만 아래와 같이 콜백을 이용한다면 내가 원하는대로 출력이 가능하다

```js
function fn(callback){
    setTimeout({
        console.log('I am');
        cb();
    },0);
};
console.log('Hello');
fn(function(){console.log("Whale")});

// Hello
// I am
// Whale
```

