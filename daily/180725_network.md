# 180725 TIL(TCP/IP)
TCP/IP 쉽게, 더 쉽게라는 책으로 공부하고 작성했다, 거의 베껴썼다...
##### LAN과 WAN

가정이나 사무실처럼 실내에서 비교적 근거리에 위치한 컴퓨터들이 연결된 것을LAN(Local Area Network)라고 하고 집 밖이나 회사 건물 밖처럼 비교적 먼 거리에 위치한 컴퓨터들과 연결된 것을 WAN(Wide Area Network)라고 한다

##### 서버와 클라이언트를 구분하는 기준

하드웨어의 성능으로 구분되는 것이 아니라 어떤 역할의 프로그램을 설치했느냐에 따라

서버와 클라이언트로 나뉜다

### 패킷 교환 방식

컴퓨터 네트워크에서는 이메일이나 파일과 같은 데이터를 패킷이라는 작은 단위로 분할한 후 주고 받는다 패킷은 자신이 어디로 전달되어야 하는지 알 수 있도록 어드레스정보를 가지고 있다

### 컴퓨터 네트워크와 계층 모델

네트워크는 각각의 역할에 따라 크게 애플리케이션 계층, 트랜스포트 계층, 인터넷 계층, 네트워크 계층으로 분류된다

각각 맡은 역할이 다른데 역할들을 이해하기 쉽게 분류하고 추상화한 것을 계층 모델이라고 한다

- 애플리케이션 계층: 웹 서비스, 이메일과 같은 서비스를 사용자에게 제공
- 트랜스포트 계층: 애플리케이션 계층과 인터넷 계층 사이에서 데이터가 올바르게 전달되로록 중개하는 역할
- 인터넷 계층: 목적지의 IP어드레스로 데이터를 전달
- 네트워크 인터페이스 계층: 네트워크 어댑터와 같은 하드웨어를 통해 데이터를 전달

#### 각 계층을 통과하는 데이터의 형태

#### 네트워킹 순서

클라이언트 측 : 애플리케이션 계층 => 트랜스포트 계층 => 인터넷 계층 => 네트워크 인터 페이스 계층 =>서버 측: 네트워크 인터페이스 계층 => 인터넷 계층 => 트랜스포트 계층 => 애플리케이션 계층

클라이언트 측에서 계층을 하나씩 거칠 때마다 헤더라는 정보를 데이터에 포함시키면서 이동하고 서버 측에서는 헤더를 보고 수신한다

클라이언트 측

- 트랜스포트 계층 : 전송하기에 적합한 크기로 작게 쪼갠 후, 목적지의 프로그램을 식별할 수 있는 정보를 덧붙인다
- 인터넷 계층 : 수신 측의 컴퓨터를 식별할 수 있는 정보를 덧붙인다
- 네트워크 인터페이스 계층 : 하드웨어에 신호를 전달하는 데 필요한 정보를 덧붙인다

전송

- 네트워크 인터페이스 계층까지 왔다면 전기나 광 신호로 변환되어 전송한다

서버 측

- 네트워크 인터페이스 계층 : 헤더나 트레일러를 떼어내고 인터넷 계층으로 전달
- 인터넷 계층 : 자신이 수신해야 하는 데이터라고 판단되면 데이터를 트랜스포트 계층으로 전달
- 트랜스포트 계층 : 모든 데이터가 수신된 것을 확인하고 데이터들이 결합되면 목적지의 프로그램에게 전달한다



하나의 계층만 들여보면 마치 송신 측과 수신 측의 서로 같은 계층이 직접 통신하는 것처럼 보인다 위의 순서대로 네트워킹이 이루어지는 것을 알아야 한다



### 4개 계층의 동작 방식

#### 애플링케이션 계층

사용자가 실제로 체감할 수 있는 서비스를 제공하는 것이다

예를 들어, 웹 브라우저와 웹 서버는 애플리케이션 계층에 속하는 프로그램이다

#### 트랜스포트 계층

애플리케이션에서 받은 데이터를 목적지 애플리케이션 계층의 프로그램까지 전달한다

데이터가 제대로 전달되지 않았을 때에 재전송하는 것을 여기서 한다

목적지 컴퓨터의 프로그램 데이터가 제대로 전달되도록 포트 번호 정보를 헤더에 붙이거나 떼어내는 역할을 주로 한다

#### 인터넷 계층

데이터에 어드레스 정보를 덧붙여 목적지까지 무사히 전달하는 것이다

인터넷 통신에서는 목적지 컴퓨터까지 도착할 수 있는 경로를 찾아야 하는데 이 때 라우터라는 장비가 사용된다

#### 네트워크 인터페이스 계층

유선 LAN 어댑터나 무선 LAN 어댑터가 처리할 수 있는 형태로 데이터를 변환하고 이 데이터를 목적지까지 전달하는 것이다

바로 위에 인터넷 계층이 멀리 떨어져 있는 목적지까지 어떻게 데이터를 잘 전달할 수 있을까에 초점을 맞추고 있는 반면에 이 계층은 물리적으로 인접하여 연결되 장비까지 어떻게 데이터를 잘 전달할까에 초점을 맞춘다!